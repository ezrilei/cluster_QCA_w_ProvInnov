"0","# library(dplyr)"
"0","# library(tidyr)"
"0",""
"0","# 1. 将数据转为 long 格式"
"0","long_yearly <- yearly_table_BECON_AdjDis_greater_0_2 %>%"
"0","  tidyr::pivot_longer(cols = as.character(2016:2023), names_to = ""year"", values_to = ""value"")"
"0",""
"0",""
"0","# 2. 分别筛选符合条件的 Consistencies > 0.9 且 Coverages > 0.5"
"0","consistency_high <- long_yearly %>%"
"0","  filter(x == ""Consistencies"", value > 0.9) %>%"
"0","  select(outcome_var, Result_Type, year) %>%"
"0","  distinct()"
"0",""
"0","coverage_high <- long_yearly %>%"
"0","  filter(x == ""Coverages"", value > 0.5) %>%"
"0","  select(outcome_var, Result_Type, year) %>%"
"0","  distinct()"
"0",""
"0","# 3. 找出同时满足两个条件的组合"
"0","matched_cases <- inner_join(consistency_high, coverage_high,"
"0","                            by = c(""outcome_var"", ""Result_Type"", ""year""))"
"0",""
"0","# 查看结果"
"0","matched_cases"
