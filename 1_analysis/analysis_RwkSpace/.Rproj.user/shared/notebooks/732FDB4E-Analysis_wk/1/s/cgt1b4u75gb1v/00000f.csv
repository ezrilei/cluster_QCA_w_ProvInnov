"0","library(ggplot2)"
"0",""
"0","# show CN text"
"0","library(showtext) #https://github.com/yixuan/showtext"
"0","showtext_auto(enable = TRUE)"
"0","font_add(""fangSong"", regular = ""./fonts/方正仿宋_GBK.TTF"") # <<<<<<<<<<<<<<"
"0","font_add(""TimesNewRoman"", regular = ""./fonts/Times New Roman.ttf"")"
"0",""
"0",""
"0","# store to pdf (create a pdf device) ---------------"
"0","# pdf(file = ""./output_manual/组间一致性水平趋势图.pdf"", width = 10, height = 8)"
"0","pdf(file = ""./output/【Analysis_wk】3.充分性分析_组内一致性热力图.pdf"", width = 16, height = 2.8)"
"0",""
"0",""
"0","p_config_WICONS <- ggplot(df_cluster_data_allY_WICONS, aes(x = PROVS, y = CONFIG, fill = WICONS)) +"
"0","  geom_tile(color = ""white"") +"
"0","  geom_text(aes(label = sprintf(""%.2f"", WICONS)),  # WICONS 保留2位"
"0","            size = 3, "
"0","            family = ""TimesNewRoman"") +  # <<< 用TimesNewRoman显示数值"
"0","  scale_fill_gradient2("
"0","    #low = ""#4575b4"", mid = ""#fcfdc4"", high = ""#d9352a"", midpoint = 0.75,"
"0","    low = ""#d9352a"", mid = ""#fcfdc4"", high = ""#4575b4"", midpoint = 0.75,"
"0","    name = ""组内一致性（WICONS）"""
"0","  ) +"
"0","  theme_minimal() +"
"0","  theme("
"0","    axis.text.x = element_text(angle = 45, hjust = 1),"
"0","    panel.grid = element_blank(),"
"0","    text = element_text(family = ""fangSong"")  # 设置全局字体为仿宋"
"0","  ) +"
"0","  labs(x = ""省份"", y = ""因果路径（CONFIG）"", title = ""各因果路径在不同省份的组内一致性热图"")"
"0",""
"0","print(p_config_WICONS)"
